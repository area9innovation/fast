import mini/types/typeenv;

export {
	// Lookup the type
	resolveMiniTypeVar(env : MiniTypeEnv, tyvarId : int) -> MiniType;
}

resolveMiniTypeVar(env : MiniTypeEnv, tyvarId : int) -> MiniType {
	mtype : Maybe<MiniType> = lookupTree(^(env.tyvars), tyvarId);

	mtype ?? {
		mtype
	} : {
		println("Could not resolve tyvar " + i2s(tyvarId));
		MiniTypeVar(tyvarId);
	};
}
