import mini/exp/ast;
import mini/backend/bprogram;
import mini/exp/topological;

export {
	miniAst2BProgram(ast : MiniAst) -> BProgram;
}

miniAst2BProgram(ast : MiniAst) -> BProgram {
	ids : Set<string> = buildSet(getTreeKeys(ast.declarations));

	order = topologicalMiniOrder(ast, ids);

	println("Program order:");
	println(order);

	BProgram([]);
}
